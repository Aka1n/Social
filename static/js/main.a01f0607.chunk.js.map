{"version":3,"sources":["api/api.tsx","redux/profile-reducer.ts","img/IMG_7219.jpg","common/Loading/LoadingMin.jsx","App.tsx","components/Profile/ProfileData/ProfileStatus/ProfileStatus.tsx","components/Profile/ProfileData/ProfileData.tsx","img/IMG_7839.jpg","components/Profile/ProfileMyPosts/ProfilePost/ProfilePost.tsx","components/Profile/ProfileMyPosts/ProfileTextarea/ProfileTextarea.tsx","components/Profile/ProfileMyPosts/ProfileMyPosts.tsx","components/Profile/Profile.tsx","redux/navigation-reducer.ts","components/Navigation/NavigationSideBar/NavigationSideBar.tsx","components/Navigation/NavigationFriends/NavigationFriends.tsx","components/Navigation/Navigation.tsx","redux/settings-reducer.ts","redux/auth-reducer.ts","components/Login/Login.tsx","components/AuthRedirect.tsx","components/Dialogs/DialogsNames/DialogsNames.tsx","components/Dialogs/DialogsMessages/DialogsTextArea/DialogsTextArea.tsx","components/Dialogs/DialogsMessages/DialogsMessages.tsx","components/Dialogs/Dialogs.tsx","logo.svg","components/Header/Header.tsx","components/InitiationRedirect.tsx","components/Settings/Photo.tsx","components/Settings/Settings.tsx","reportWebVitals.js","redux/redux-store.ts","index.tsx","components/Header/Header.module.css","components/Navigation/NavigationSideBar/NavigationSideBar.module.css","components/Login/Login.module.css","common/Loading/Loading.jsx","components/Profile/ProfileData/ProfileData.module.css","components/Dialogs/DialogsMessages/DialogsMessages.module.css","components/Dialogs/DialogsNames/DialogsNames.module.css","redux/dialogs-reducer.ts","components/Profile/ProfileMyPosts/ProfilePost/ProfilePost.module.css","components/Profile/ProfileData/ProfileStatus/ProfileStatus.module.css","img/default-user.png","components/Navigation/Navigation.module.css","components/Navigation/NavigationFriends/NavigationFriends.module.css","img/Rolling-1s-200px.svg","components/Settings/Settings.module.css","components/Profile/Profile.module.css","components/Profile/ProfileMyPosts/ProfileMyPosts.module.css","components/Dialogs/Dialogs.module.css","components/Settings/Photo.module.css","common/Loading/Loading.module.css","common/Loading/LoadingMin.module.css","components/Profile/ProfileMyPosts/ProfileTextarea/ProfileTextarea.module.css","components/Dialogs/DialogsMessages/DialogsTextArea/DialogsTextArea.module.css","redux/findUsers-reducer.ts"],"names":["instance","axios","create","withCredentials","baseURL","headers","usersApi","getUsers","pageNumber","searchUsers","get","resolve","data","followApi","getFollow","userId","post","getUnFollow","delete","authApi","getAuthMe","getSignIn","email","password","rememberMe","captcha","getLogOut","profileApi","getProfile","getStatus","setStatus","status","put","setPhoto","image","formData","FormData","append","setInfo","info","securityApi","getCaptcha","dialogApi","getDialogs","getMessages","setNewMessage","message","body","setDialog","profileSlice","createSlice","name","initialState","posts","newPostChange","profile","photos","contacts","isLoading","errors","img","reducers","addPost","state","obj","length","id","text","likes","liked","unshift","addNewPostText","action","payload","addLike","map","p","removeLike","setUserProfile","addStatus","actions","myProfile","match","dispatch","a","resultCode","userData","LoadingMin","bodyRef","className","classes","loading","src","alt","ProfileStatus","me","useState","editMode","setMode","statusCache","setStatusCache","setLoading","useDispatch","useMemo","statusUp","useCallback","useEffect","cancel","value","onChange","e","currentTarget","input","onBlur","then","autoFocus","hover","onDoubleClick","ProfileData","Loading","avatar","large","defaultAvatar","item","fullName","aboutMe","facebook","href","social","icon","faFacebookSquare","github","faGithubSquare","instagram","faInstagramSquare","twitter","faTwitterSquare","vk","faVk","youtube","faYoutube","ProfilePost","like","onClick","active","faHeart","ProfileTextarea","addPostActionCreator","textarea","element","target","button","ProfileMyPosts","Posts","el","myPosts","title","ProfilePage","useMatch","profilePage","useSelector","auth","user","params","undefined","navigationSlice","friends","isActive","setActive","NavigationSideBar","to","i","messages","news","music","findusers","settings","NavigationFriends","NavigationFriend","index","Navigation","dialogsPage","navigation","back","back_active","settingsSlice","myErrors","setMyProfile","addMyInfo","addMyPhoto","addMyImgErrors","addMyInfoErrors","getMyProfile","setMyPhoto","photo","setImg","small","toString","authSlice","login","isAuth","authErrors","captchaUrl","setUserData","setErrors","setIsAuth","setCaptchaUrl","getLogin","profileData","Login","useForm","mode","register","formState","isValid","setError","reset","handleSubmit","signErrors","type","onSubmit","loginData","url","input_error","placeholder","required","pattern","error","faExclamationCircle","remember","checkbox","disabled","AuthRedirect","children","DialogsNames","names","setUserId","Names","defaultImg","userName","dialogs","DialogsTextArea","newMessageText","addNewMessageText","addNewMessage","common","sendMessage","readyState","DialogsMessages","setCommonDialog","commonDialog","setCommon","webSocket","useWebSocket","lastMessage","JSON","parse","current","scrollTo","Messages","senderId","second_item","second_message","dangerouslySetInnerHTML","__html","CommonMessages","select_dialog","Dialogs","setMessage","Header","Avatar","defaultAva","activeNavigation","header","burger","burger_active","logo","anim","brand","body_login","side_menu","CSSTransition","in","timeout","unmountOnExit","classNames","enterActive","MyClassEnterActive","enterDone","MyClassEnterDone","exitActive","MyClassExit","MyClass","hide","login_menu","faSignOutAlt","InitiationRedirect","Photo","imgBody","imgLoading","svg","Settings","apiErrors","lookingForAJob","lookingForAJobDescription","radio","setRadio","setImgLoading","submitErrors","facebookInvalid","vkInvalid","twitterInvalid","instagramInvalid","youtubeInvalid","githubInvalid","forEach","onAvatar","website","mainLink","setMyInfo","resetObj","avatar_name","htmlFor","errorBorder","photoError","avatar_hidden","label_job","job","checked","autoComplete","errorColor","FindUsers","React","lazy","App","useRef","basename","process","ref","path","Profile","fallback","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","store","configureStore","reducer","profileReducer","dialogsReducer","navigationReducer","findUsersPage","findUsersReducer","authReducer","settingsReducer","ReactDOM","render","StrictMode","document","getElementById","module","exports","body_loading","dialogsSlice","getAllDialogs","setMessages","mass","dataFilter","filter","some","num","push","items","addDialog","findUsersSlice","users","currentPage","totalPages","userFollowLoading","followUnFollow","follow","u","followed","setUsers","setTotalPages","setPageNumber","isFollowLoading","setSearchUsers","Math","ceil","totalCount","getFollowThunk","setPage","page"],"mappings":"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","file":"static/js/main.a01f0607.chunk.js","sourcesContent":["import axios from 'axios';\r\nimport {MessageType, PhotosType, ProfileType, ResultCode, UserDialogType, UserType} from \"../types/types\";\r\n\r\nconst instance = axios.create({\r\n  withCredentials: true,\r\n  baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n  headers: {\r\n    'API-KEY': '07c7c199-262b-4468-8fc2-3e55944f3d66',\r\n  },\r\n});\r\n\r\n\r\nexport type ResponseType<D = {}, R = ResultCode> = {\r\n  data: D\r\n  resultCode: R\r\n  messages: Array<string>\r\n  error: string | null\r\n  fieldsErrors?: Array<string>\r\n}\r\n\r\ntype GetUsersResponse = {\r\n  items: Array<UserType>\r\n  totalCount: number\r\n  error: string | null\r\n}\r\n\r\nexport const usersApi = {\r\n  async getUsers(pageNumber: number, searchUsers: string) {\r\n    const resolve = await instance\r\n      .get<GetUsersResponse>(`users?count=12&page=${pageNumber}&term=${searchUsers}`);\r\n    return resolve.data;\r\n  },\r\n};\r\n\r\nexport const followApi = {\r\n  async getFollow(userId: number) {\r\n    const resolve = await instance.post<ResponseType>(`follow/${userId}`, {});\r\n    return resolve.data;\r\n  },\r\n  async getUnFollow(userId: number) {\r\n    const resolve = await instance.delete<ResponseType>(`follow/${userId}`);\r\n    return resolve.data;\r\n  },\r\n};\r\n\r\nexport const authApi = {\r\n  async getAuthMe() {\r\n    const resolve = await instance.get<ResponseType<{id: number, login: string, email: string}>>('auth/me');\r\n    return resolve.data;\r\n  },\r\n  async getSignIn({\r\n    email, password, rememberMe, captcha,\r\n  }: {email: string, password: string, rememberMe: boolean, captcha: string | null}) {\r\n    const resolve = await instance\r\n      .post<ResponseType<{userId: number}>>('auth/login', {\r\n        email,\r\n        password,\r\n        rememberMe,\r\n        captcha,\r\n      });\r\n    return resolve.data;\r\n  },\r\n  async getLogOut() {\r\n    const resolve = await instance.delete<ResponseType>('auth/login');\r\n    return resolve.data;\r\n  },\r\n};\r\n\r\nexport const profileApi = {\r\n  async getProfile(userId: number) {\r\n    const resolve = await instance.get<ProfileType>(`/profile/${userId}`);\r\n    return resolve.data;\r\n  },\r\n  async getStatus(userId: number) {\r\n    const resolve = await instance.get<string>(`/profile/status/${userId}`);\r\n    return resolve.data;\r\n  },\r\n  async setStatus(status: string) {\r\n    const resolve = await instance\r\n      .put<ResponseType>('/profile/status/', {\r\n        status,\r\n      });\r\n    return resolve.data;\r\n  },\r\n  async setPhoto(image: any) {\r\n    const formData = new FormData();\r\n    formData.append('image', image);\r\n    const resolve = await instance.put<ResponseType<{photos: PhotosType}>>('/profile/photo', formData, {\r\n      headers: {\r\n        'Content-Type': 'multipart/form-data',\r\n      },\r\n    });\r\n    return resolve.data;\r\n  },\r\n  async setInfo(info: any) {\r\n    const resolve = await instance.put<ResponseType>('/profile', info);\r\n    return resolve.data;\r\n  },\r\n};\r\n\r\nexport const securityApi = {\r\n  async getCaptcha() {\r\n    const resolve = await instance.get<{url: string}>('/security/get-captcha-url');\r\n    return resolve.data;\r\n  },\r\n};\r\n\r\ntype NewSetMessage = {\r\n    message: {\r\n      addedAt: string\r\n      body: string\r\n      deletedByRecipient: boolean\r\n      deletedBySender: boolean\r\n      distributionId: null | number\r\n      id: string\r\n      isSpam: boolean\r\n      recipientId: number\r\n      recipientName: string\r\n      senderId: number\r\n      senderName: string\r\n      translatedBody: null | any\r\n      viewed: boolean\r\n    }\r\n}\r\n\r\nexport const dialogApi = {\r\n  async getDialogs() {\r\n    const resolve = await instance.get<Array<UserDialogType>>('/dialogs');\r\n    return resolve.data;\r\n  },\r\n  async getMessages(userId: number) {\r\n    const resolve = await instance.get<{\r\n      error: string | null, items: Array<MessageType>, totalCount: number\r\n    }>(`/dialogs/${userId}/messages`);\r\n    return resolve.data;\r\n  },\r\n  async setNewMessage(userId: number, message: string) {\r\n    const resolve = await instance.post<ResponseType<NewSetMessage>>(`/dialogs/${userId}/messages`, {\r\n      body: message,\r\n    });\r\n    return resolve.data;\r\n  },\r\n  async setDialog(userId: number) {\r\n    const resolve = await instance.put<ResponseType>(`/dialogs/${userId}`, { userId });\r\n    return resolve.data;\r\n  },\r\n};\r\n","import {Action, createSlice, ThunkAction} from '@reduxjs/toolkit';\r\nimport { authApi, profileApi } from '../api/api';\r\nimport {MyErrorsType, PostType, ProfileType} from \"../types/types\";\r\nimport {RootState} from \"./redux-store\";\r\n\r\n\r\nconst initialState = {\r\n  posts: [] as Array<PostType>,\r\n  newPostChange: '' as string | '',\r\n  profile: {\r\n    photos: {},\r\n    contacts: {},\r\n  } as ProfileType,\r\n  isLoading: false as boolean,\r\n  status: '' as string,\r\n  errors: {\r\n    img: null,\r\n    contacts: null,\r\n  } as MyErrorsType,\r\n};\r\n\r\nconst profileSlice = createSlice({\r\n  name: 'profileSlice',\r\n  initialState,\r\n  reducers: {\r\n    addPost: (state) => {\r\n      const obj = {} as PostType;\r\n\r\n      if (state.posts.length === 0) {\r\n        obj.id = 1;\r\n      } else obj.id = state.posts[0].id + 1;\r\n\r\n      if (state.newPostChange.length === 0) {\r\n        return;\r\n      }\r\n\r\n      obj.text = state.newPostChange;\r\n      obj.likes = 0;\r\n      obj.liked = false;\r\n      state.posts.unshift(obj);\r\n      state.newPostChange = '';\r\n    },\r\n    addNewPostText: (state, action) => {\r\n      state.newPostChange = action.payload;\r\n    },\r\n    addLike: (state, action) => {\r\n      state.posts = state.posts.map((p: PostType) => ((!p.liked && p.id === action.payload)\r\n        ? {\r\n          ...p,\r\n          liked: true,\r\n          likes: p.likes + 1,\r\n        }\r\n        : p));\r\n    },\r\n    removeLike: (state, action) => {\r\n      state.posts = state.posts.map((p: PostType) => ((p.liked && p.id === action.payload)\r\n        ? {\r\n          ...p,\r\n          liked: false,\r\n          likes: p.likes - 1,\r\n        }\r\n        : p));\r\n    },\r\n    setUserProfile: (state, action) => {\r\n      state.profile = action.payload;\r\n    },\r\n    isLoading: (state, action) => {\r\n      state.isLoading = action.payload;\r\n    },\r\n    addStatus: (state, action) => {\r\n      state.status = action.payload;\r\n    },\r\n  },\r\n});\r\n\r\nexport const {\r\n  addStatus,\r\n  isLoading,\r\n  setUserProfile,\r\n  removeLike,\r\n  addLike,\r\n  addNewPostText,\r\n  addPost,\r\n} = profileSlice.actions;\r\n\r\nexport const myProfile = (match: string | undefined):\r\n    ThunkAction<Promise<void>, RootState, unknown, Action> => async (dispatch) => {\r\n  try {\r\n    dispatch(isLoading(true));\r\n    const data = await authApi.getAuthMe();\r\n    if (data.resultCode === 0) {\r\n      let userId: number;\r\n\r\n      if (!match) userId = data.data.id;\r\n      else userId = +match;\r\n\r\n      const userData = await profileApi.getProfile(userId);\r\n      dispatch(setUserProfile(userData));\r\n    }\r\n    dispatch(isLoading(false));\r\n  } catch (e) {}\r\n};\r\n\r\nexport const setStatus = (status: string):\r\n    ThunkAction<Promise<void>, RootState, unknown, Action> => async (dispatch) => {\r\n  try {\r\n    const data = await profileApi.setStatus(status);\r\n    if (data.resultCode === 0) {\r\n      dispatch(addStatus(status));\r\n    }\r\n  } catch (e) {}\r\n};\r\n\r\nexport const getStatus = (id: number):\r\n    ThunkAction<Promise<void>, RootState, unknown, Action> => async (dispatch) => {\r\n  try {\r\n    const data = await profileApi.getStatus(id);\r\n    dispatch(addStatus(data));\r\n  }\r\n  catch (e) {}\r\n};\r\n\r\nexport default profileSlice.reducer;\r\n","export default __webpack_public_path__ + \"static/media/IMG_7219.9474db22.jpg\";","import classes from \"../../common/Loading/LoadingMin.module.css\";\r\nimport loading from \"../../img/Rolling-1s-200px.svg\";\r\n\r\nfunction LoadingMin() {\r\n    return (\r\n        <div className={classes.body}>\r\n            <img className={classes.loading} src={loading} alt=\"\"/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default LoadingMin","import './App.css';\r\nimport { BrowserRouter, Route, Routes } from 'react-router-dom';\r\nimport React, {Suspense, useEffect, useRef, useState} from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport Profile from './components/Profile/Profile';\r\nimport Navigation from './components/Navigation/Navigation';\r\nimport Login from './components/Login/Login';\r\nimport AuthRedirect from './components/AuthRedirect';\r\nimport Dialogs from './components/Dialogs/Dialogs';\r\nimport Header from './components/Header/Header';\r\nimport InitiationRedirect from './components/InitiationRedirect';\r\nimport Loading from './common/Loading/Loading';\r\nimport Settings from './components/Settings/Settings';\r\nimport { myProfile } from './redux/profile-reducer';\r\nimport { getLogin } from './redux/auth-reducer';\r\nimport {RootState} from \"./redux/redux-store\";\r\n\r\nconst FindUsers = React.lazy(() => import('./components/FindUsres/FindUsers'));\r\n\r\nlet bodyRef: any\r\n\r\nfunction App() {\r\n\r\n  const id = useSelector((state: RootState) => state.auth.user.id);\r\n\r\n  const [loading, setLoading] = useState(true);\r\n  const body = useRef(null)\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect( () => {\r\n      (async function () {\r\n          setLoading(true);\r\n          await dispatch(getLogin(id));\r\n          await dispatch(myProfile(undefined));\r\n          setLoading(false);\r\n          bodyRef = body\r\n      })()\r\n  }, [id]);\r\n\r\n  if (loading) return <Loading />;\r\n  return (\r\n    <BrowserRouter basename={process.env.PUBLIC_URL}>\r\n        <div ref={body} className=\"body\">\r\n          <div className=\"wrapper\">\r\n            <Header />\r\n            <div className=\"main\">\r\n              <Navigation />\r\n              <Routes>\r\n                <Route path=\"/\" element={<InitiationRedirect />} />\r\n                <Route\r\n                  path=\"/profile/:userId\"\r\n                  element={(\r\n                    <AuthRedirect>\r\n                      <Profile />\r\n                    </AuthRedirect>\r\n                  )}\r\n                />\r\n                <Route\r\n                  path=\"/profile\"\r\n                  element={(\r\n                    <AuthRedirect>\r\n                      <Profile />\r\n                    </AuthRedirect>\r\n                  )}\r\n                />\r\n                <Route\r\n                  path=\"/dialogs/*\"\r\n                  element={(\r\n                    <AuthRedirect>\r\n                      <Dialogs />\r\n                    </AuthRedirect>\r\n                  )}\r\n                />\r\n                <Route\r\n                  path=\"/findusers/*\"\r\n                  element={(\r\n                    <Suspense fallback={<Loading />}>\r\n                      <AuthRedirect>\r\n                        <FindUsers />\r\n                      </AuthRedirect>\r\n                    </Suspense>\r\n                  )}\r\n                />\r\n                <Route\r\n                  path=\"/login\"\r\n                  element={(\r\n                    <Suspense fallback={<Loading />}>\r\n                      <Login />\r\n                    </Suspense>\r\n                  )}\r\n                />\r\n                <Route\r\n                  path=\"/settings\"\r\n                  element={(\r\n                    <Suspense fallback={<Loading />}>\r\n                      <AuthRedirect>\r\n                        <Settings />\r\n                      </AuthRedirect>\r\n                    </Suspense>\r\n                  )}\r\n                />\r\n              </Routes>\r\n            </div>\r\n          </div>\r\n        </div>\r\n    </BrowserRouter>\r\n  );\r\n}\r\n\r\nexport default App;\r\nexport {bodyRef}\r\n","import classes from './ProfileStatus.module.css'\r\nimport * as React from \"react\";\r\nimport {FC, useCallback, useEffect, useMemo, useState} from \"react\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {getStatus} from \"../../../../redux/profile-reducer\";\r\nimport LoadingMin from \"../../../../common/Loading/LoadingMin\";\r\nimport {AppDispatch} from \"../../../../redux/redux-store\";\r\n\r\ntype Props = {\r\n    me: number | null\r\n    id: string | null | undefined\r\n    status: string\r\n    setStatus: (status: any) => Promise<void>\r\n    isLoading: boolean\r\n}\r\n\r\nconst ProfileStatus: FC<Props> = ({me, id, status, setStatus ,isLoading}) => {\r\n\r\n    const [editMode, setMode] = useState(false)\r\n    const [statusCache, setStatusCache] = useState(status)\r\n    const [loading, setLoading] = useState(true)\r\n\r\n    const dispatch: AppDispatch = useDispatch()\r\n\r\n    const userId = useMemo(() => !id ? me : +id, [])\r\n\r\n    const statusUp = useCallback(id => getStatus(id), [])\r\n\r\n    useEffect(   () => {\r\n\r\n        let cancel = false as boolean;\r\n\r\n        (async function () {\r\n            await dispatch(statusUp(userId))\r\n            if (cancel) return\r\n            setStatusCache(status)\r\n            setLoading(false)\r\n        })()\r\n\r\n        return () => {cancel = true}\r\n\r\n    }, [status])\r\n\r\n    const disabledStatus = () => {\r\n        setMode(false)\r\n        setLoading(true)\r\n        setStatus(statusCache).then(() => setLoading(false))\r\n    }\r\n\r\n    return (\r\n        <div className={classes.status}>\r\n            {!editMode ? <div className={userId === me ? classes.hover : classes.body}>\r\n                    <div className={!loading ? classes.text : `${classes.text} ${classes.loading}` }\r\n                         onDoubleClick={() => userId === me ? setMode(true) : null}>\r\n                        {(!status && !id && userId === me ? 'write your status...' : status)}</div>\r\n                    {loading && <LoadingMin/>}\r\n                </div> :\r\n                <input value={!status ? '' : statusCache}\r\n                       onChange={(e) => setStatusCache(e.currentTarget.value)}\r\n                       className={classes.input}\r\n                       onBlur={disabledStatus} autoFocus/>}\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport default ProfileStatus","import { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport {\r\n  faFacebookSquare,\r\n  faGithubSquare,\r\n  faInstagramSquare,\r\n  faTwitterSquare,\r\n  faVk,\r\n  faYoutube,\r\n} from \"@fortawesome/free-brands-svg-icons\";\r\nimport classes from \"./ProfileData.module.css\";\r\nimport Loading from \"../../../common/Loading/Loading\";\r\nimport defaultAvatar from \"../../../img/default-user.png\";\r\nimport ProfileStatus from \"./ProfileStatus/ProfileStatus\";\r\nimport * as React from \"react\";\r\nimport {ProfileType} from \"../../../types/types\";\r\nimport {FC} from \"react\";\r\n\r\ntype Props = {\r\n  profile: ProfileType\r\n  isLoading: boolean\r\n  status: string\r\n  setStatus: (status: any) => Promise<void>\r\n  id: string | null | undefined\r\n  me: number | null\r\n}\r\n\r\nconst ProfileData: FC<Props> = ({profile, isLoading, status, setStatus, id, me}) => {\r\n  \r\n  if (isLoading) return <Loading />;\r\n  \r\n  return (\r\n    <div className={classes.profile}>\r\n      <div className={classes.body}>\r\n        <img\r\n          className={classes.avatar}\r\n          src={\r\n            !profile.photos.large\r\n              ? defaultAvatar\r\n              : profile.photos.large\r\n          }\r\n          alt=\"\"\r\n        />\r\n        <div className={classes.data}>\r\n          <div className={classes.item}>{profile.fullName}</div>\r\n          <ProfileStatus\r\n            me={me}\r\n            id={id}\r\n            status={status}\r\n            setStatus={setStatus}\r\n            isLoading={isLoading}\r\n          />\r\n          <div className={classes.item}>Date of Birth : 2 january</div>\r\n          <div className={classes.item}>City : Minsk</div>\r\n          <div className={classes.item}>Education : BSU 11</div>\r\n          <div className={classes.item}>{profile.aboutMe}</div>\r\n          <div className={classes.contacts}>\r\n            {[\r\n              profile.contacts.facebook ? (\r\n                <a href={`https://${profile.contacts.facebook}`}>\r\n                  <FontAwesomeIcon\r\n                    className={classes.social}\r\n                    icon={faFacebookSquare}\r\n                  />\r\n                </a>\r\n              ) : null,\r\n              profile.contacts.github ? (\r\n                <a href={`https://${profile.contacts.github}`}>\r\n                  <FontAwesomeIcon\r\n                    className={classes.social}\r\n                    icon={faGithubSquare}\r\n                  />\r\n                </a>\r\n              ) : null,\r\n              profile.contacts.instagram ? (\r\n                <a href={`https://${profile.contacts.instagram}`}>\r\n                  <FontAwesomeIcon\r\n                    className={classes.social}\r\n                    icon={faInstagramSquare}\r\n                  />\r\n                </a>\r\n              ) : null,\r\n              profile.contacts.twitter ? (\r\n                <a href={`https://${profile.contacts.twitter}`}>\r\n                  <FontAwesomeIcon\r\n                    className={classes.social}\r\n                    icon={faTwitterSquare}\r\n                  />\r\n                </a>\r\n              ) : null,\r\n              profile.contacts.vk ? (\r\n                <a href={`https://${profile.contacts.vk}`}>\r\n                  <FontAwesomeIcon className={classes.social} icon={faVk} />\r\n                </a>\r\n              ) : null,\r\n              profile.contacts.youtube ? (\r\n                <a href={`https://${profile.contacts.youtube}`}>\r\n                  <FontAwesomeIcon\r\n                    className={classes.social}\r\n                    icon={faYoutube}\r\n                  />\r\n                </a>\r\n              ) : null,\r\n            ]}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProfileData;\r\n","export default __webpack_public_path__ + \"static/media/IMG_7839.72265f0c.jpg\";","import { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faHeart } from \"@fortawesome/free-solid-svg-icons\";\r\nimport classes from \"./ProfilePost.module.css\";\r\nimport avatar from \"../../../../img/IMG_7839.jpg\";\r\nimport * as React from \"react\";\r\nimport {Action} from \"redux\";\r\nimport {FC} from \"react\";\r\n\r\ntype Props = {\r\n  likes: number\r\n  message: string\r\n  liked: boolean\r\n  id: number\r\n  addLike: (id: number) => Action\r\n  removeLike: (id: number) => Action\r\n}\r\n\r\nconst ProfilePost: FC<Props> = ({likes, message, liked ,id, addLike, removeLike}) => {\r\n\r\n  return (\r\n    <div className={classes.post}>\r\n      <div className={classes.body}>\r\n        <div className={classes.avatar}>\r\n          <img src={avatar} alt=\"\" />\r\n        </div>\r\n        <div className={classes.item}>\r\n          <div className={classes.text}>{message}</div>\r\n          <div className={classes.like}>\r\n            {liked ? (\r\n              <FontAwesomeIcon\r\n                onClick={() => removeLike(id)}\r\n                className={`${classes.icon} ${classes.active}`}\r\n                icon={faHeart}\r\n              />\r\n            ) : (\r\n              <FontAwesomeIcon\r\n                onClick={() => addLike(id)}\r\n                className={classes.icon}\r\n                icon={faHeart}\r\n              />\r\n            )}\r\n            <div className={classes.likes}>{likes}</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProfilePost;\r\n","import classes from \"./ProfileTextarea.module.css\";\r\nimport {ChangeEvent, FC} from \"react\";\r\nimport {Action} from \"redux\";\r\n\r\ntype Props = {\r\n    addNewPostText: (text: string) => Action\r\n    addPostActionCreator: () => Action\r\n    newPostChange: string\r\n}\r\n\r\nconst ProfileTextarea: FC<Props> = ({addNewPostText, addPostActionCreator, newPostChange}) => {\r\n\r\n    const addPostText = (element: ChangeEvent<HTMLTextAreaElement>) => {\r\n        const text = element.target.value;\r\n        addNewPostText(text);\r\n    };\r\n\r\n    return (\r\n        <div className={classes.textarea}>\r\n      <textarea\r\n          onChange={addPostText}\r\n          value={newPostChange}\r\n      />\r\n            <div className={classes.button}>\r\n                <button onClick={() => addPostActionCreator()}>Send</button>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default ProfileTextarea;\r\n","import classes from \"./ProfileMyPosts.module.css\";\r\nimport ProfilePost from \"./ProfilePost/ProfilePost\";\r\nimport ProfileTextarea from \"./ProfileTextarea/ProfileTextarea\";\r\nimport {FC, useMemo} from \"react\";\r\nimport * as React from \"react\";\r\nimport {PostType} from \"../../../types/types\";\r\nimport {Action} from \"redux\";\r\n\r\ntype Props = {\r\n    posts: Array<PostType>\r\n    newPostChange: string\r\n    addNewPostText: (text: string) => Action\r\n    addPostActionCreator: () => Action\r\n    addLike: (id: number) => Action\r\n    removeLike: (id: number) => Action\r\n}\r\n\r\n\r\nconst ProfileMyPosts: FC<Props> = ({posts, newPostChange,  addNewPostText, addPostActionCreator,\r\n                                addLike, removeLike}) => useMemo(() => {\r\n\r\n  const Posts: FC<{posts: Array<PostType>}> = ({posts}) =>\r\n       <>{\r\n          posts.map((el) => (\r\n              <ProfilePost\r\n                  likes={el.likes}\r\n                  message={el.text}\r\n                  liked={el.liked}\r\n                  id={el.id}\r\n                  addLike={addLike}\r\n                  removeLike={removeLike}\r\n              />\r\n          ))\r\n      }</>\r\n  ;\r\n\r\n  return (\r\n      <div className={classes.myPosts}>\r\n        <div className={classes.body}>\r\n          <div className={classes.title}>My posts</div>\r\n          <ProfileTextarea\r\n              newPostChange={newPostChange}\r\n              addNewPostText={addNewPostText}\r\n              addPostActionCreator={addPostActionCreator}\r\n          />\r\n          <Posts posts={posts}/>\r\n        </div>\r\n      </div>\r\n  );\r\n},[newPostChange, posts])\r\n\r\nexport default ProfileMyPosts;\r\n","import { useDispatch, useSelector } from \"react-redux\";\r\nimport * as React from \"react\";\r\nimport {FC, useCallback, useEffect} from \"react\";\r\nimport { useMatch } from \"react-router-dom\";\r\nimport {\r\n  addLike,\r\n  addNewPostText,\r\n  addPost,\r\n  myProfile,\r\n  removeLike,\r\n  setStatus,\r\n} from \"../../redux/profile-reducer\";\r\nimport classes from \"./Profile.module.css\";\r\nimport img from \"../../img/IMG_7219.jpg\";\r\nimport ProfileData from \"./ProfileData/ProfileData\";\r\nimport ProfileMyPosts from \"./ProfileMyPosts/ProfileMyPosts\";\r\nimport {AppDispatch, RootState} from \"../../redux/redux-store\";\r\n\r\n\r\nconst ProfilePage: FC = () => {\r\n\r\n  const match = useMatch(\"profile/:userId\");\r\n  const profilePage = useSelector((state: RootState) => state.profilePage);\r\n  const id = useSelector((state: RootState) => state.auth.user.id);\r\n  const dispatch: AppDispatch = useDispatch();\r\n  const { profile, isLoading, status, posts, newPostChange } = profilePage;\r\n\r\n  useEffect(() => {\r\n    if (match) dispatch(myProfile(match.params.userId))\r\n    else dispatch(myProfile(undefined))\r\n  }, [match]);\r\n\r\n  const getStatus = useCallback((status: string) => dispatch(setStatus(status)), []);\r\n\r\n  return (\r\n    <div className={classes.profile}>\r\n      <div className={classes.body}>\r\n        <img src={img} alt=\"\" className={classes.img} />\r\n        <ProfileData\r\n          profile={profile}\r\n          isLoading={isLoading}\r\n          status={status}\r\n          setStatus={getStatus}\r\n          id={match ? match.params.userId : null}\r\n          me={id}\r\n        />\r\n\r\n        <ProfileMyPosts\r\n          posts={posts}\r\n          newPostChange={newPostChange}\r\n          addNewPostText={(text: string) => dispatch(addNewPostText(text))}\r\n          addPostActionCreator={() => dispatch(addPost())}\r\n          addLike={(id: number) => dispatch(addLike(id))}\r\n          removeLike={(id: number) => dispatch(removeLike(id))}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProfilePage;\r\n","import {Action, createSlice, ThunkAction} from '@reduxjs/toolkit';\r\nimport { setUserProfile } from './profile-reducer';\r\nimport { profileApi } from '../api/api';\r\nimport {FriendType} from \"../types/types\";\r\nimport {RootState} from \"./redux-store\";\r\n\r\n\r\nconst initialState = {\r\n  friends: [{ name: 'Andrew' }, { name: 'Sasha' }, { name: 'Sveta' }] as Array<FriendType>,\r\n  isActive: false as boolean,\r\n  isLoading: false as boolean,\r\n};\r\n\r\nconst navigationSlice = createSlice({\r\n  name: 'navigationSlice',\r\n  initialState,\r\n  reducers: {\r\n    isLoading: (state, action) => {\r\n      state.isLoading = action.payload;\r\n    },\r\n    setActive: (state, action) => {\r\n      state.isActive = action.payload;\r\n    },\r\n  },\r\n});\r\n\r\nexport const { isLoading, setActive } = navigationSlice.actions;\r\n\r\nexport const myProfile = (userId: number):\r\n    ThunkAction<Promise<void>, RootState, unknown, Action>=> async (dispatch) => {\r\n  try {\r\n    dispatch(isLoading(true));\r\n    const data = await profileApi.getProfile(userId)\r\n    dispatch(setUserProfile(data));\r\n    dispatch(isLoading(false));\r\n  }\r\n  catch (e) {}\r\n};\r\n\r\nexport default navigationSlice.reducer;\r\n","import classes from './NavigationSideBar.module.css'\r\nimport {NavLink} from \"react-router-dom\";\r\nimport {FC} from \"react\";\r\n\r\ntype Props = {\r\n    userId: any\r\n}\r\n\r\nconst NavigationSideBar: FC<Props> = ({userId}) => (\r\n\r\n    <div className={classes.body}>\r\n        <div className={classes.item}>\r\n            <NavLink to='/profile' className={i => i.isActive ? classes.active : classes.profile}>Profile</NavLink>\r\n        </div>\r\n        <div className={classes.item}>\r\n            <NavLink to={!userId ? '/dialogs' : `/dialogs/${userId}`}\r\n                     className={i => i.isActive ? classes.active : classes.messages}>Messages</NavLink>\r\n        </div>\r\n        <div className={classes.item}>\r\n            <NavLink to='/news' className={i => i.isActive ? classes.active : classes.news}>News</NavLink>\r\n        </div>\r\n        <div className={classes.item}>\r\n            <NavLink to='/music' className={i => i.isActive ? classes.active : classes.music}>Music</NavLink>\r\n        </div>\r\n        <div className={classes.item}>\r\n            <NavLink to='/findusers' className={i => i.isActive ? classes.active : classes.findusers}>Find\r\n                users</NavLink>\r\n        </div>\r\n        <div className={classes.item}>\r\n            <NavLink to='/settings' className={i => i.isActive ? classes.active : classes.settings}>Settings</NavLink>\r\n        </div>\r\n    </div>\r\n);\r\n\r\nexport default NavigationSideBar","import classes from './NavigationFriends.module.css'\r\nimport {FC} from \"react\";\r\nimport {FriendType} from \"../../../types/types\";\r\n\r\ntype Props = {\r\n    friends: Array<FriendType>\r\n}\r\n\r\nconst NavigationFriends: FC<Props> = ({friends}) => {\r\n\r\n    const NavigationFriend: FC<Props> = ({friends}) => (\r\n        <>{\r\n            friends.map((el, index) => <div className={classes.item} key={index}>\r\n                <div className={classes.avatar}/>\r\n                <div className={classes.name}>{el.name}</div>\r\n            </div>)\r\n        }</>\r\n    );\r\n\r\n    return (\r\n        <div className={classes.friends}>\r\n            <div className={classes.title}>Friends</div>\r\n            <div className={classes.body}>\r\n                <NavigationFriend friends={friends} />\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default NavigationFriends\r\n","import { useDispatch, useSelector } from \"react-redux\";\r\nimport {myProfile, setActive} from \"../../redux/navigation-reducer\";\r\nimport classes from \"./Navigation.module.css\";\r\nimport NavigationSideBar from \"./NavigationSideBar/NavigationSideBar\";\r\nimport NavigationFriends from \"./NavigationFriends/NavigationFriends\";\r\nimport {FC} from \"react\";\r\nimport {AppDispatch, RootState} from \"../../redux/redux-store\";\r\n\r\nconst Navigation: FC = () => {\r\n\r\n  const userId = useSelector((state: RootState) => state.dialogsPage.userId)\r\n  const isActive = useSelector((state: RootState) => state.navigation.isActive)\r\n  const friends = useSelector((state: RootState) => state.navigation.friends)\r\n\r\n  const dispatch: AppDispatch = useDispatch();\r\n\r\n  return (\r\n    <div className={ !isActive ? classes.back : `${classes.back} ${classes.back_active}`}\r\n         onClick={() => dispatch(setActive(false))}\r\n    >\r\n      <div className={!isActive ? classes.navigation : `${classes.navigation} ${classes.active}`}>\r\n        <NavigationSideBar userId={userId}/>\r\n        <NavigationFriends friends={friends} />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Navigation;\r\n","import {Action, createSlice, ThunkAction} from '@reduxjs/toolkit';\r\nimport { profileApi } from '../api/api';\r\nimport {MyErrorsType, ProfileType} from \"../types/types\";\r\nimport {RootState} from \"./redux-store\";\r\nimport {setImg} from \"./auth-reducer\";\r\n\r\nconst initialState = {\r\n  profile: {\r\n    photos: {},\r\n    contacts: {},\r\n  } as ProfileType,\r\n  myErrors: {\r\n    img: null,\r\n    contacts: null,\r\n  } as MyErrorsType,\r\n  isLoading: false as boolean,\r\n};\r\n\r\nconst settingsSlice = createSlice(\r\n  {\r\n    name: 'settingsPage',\r\n    initialState,\r\n    reducers: {\r\n      setMyProfile: (state, action) => {\r\n        state.profile = action.payload;\r\n      },\r\n      addMyInfo: (state, action) => {\r\n        state.profile = { ...state.profile, ...action.payload };\r\n      },\r\n      addMyPhoto: (state, action) => {\r\n        state.profile.photos = action.payload;\r\n      },\r\n      addMyImgErrors: (state, action) => {\r\n        state.myErrors.img = action.payload;\r\n      },\r\n      addMyInfoErrors: (state, action) => {\r\n        state.myErrors.contacts = action.payload;\r\n      },\r\n      setLoading: (state, action) => {\r\n        state.isLoading = action.payload;\r\n      },\r\n    },\r\n  },\r\n);\r\n\r\nexport const {\r\n  setMyProfile, addMyInfo, addMyImgErrors, addMyInfoErrors, addMyPhoto, setLoading,\r\n} = settingsSlice.actions;\r\n\r\nexport const getMyProfile = (id: number):\r\n    ThunkAction<Promise<void>, RootState, unknown, Action> => async (dispatch) => {\r\n  dispatch(setLoading(true));\r\n  try {\r\n    const data = await profileApi.getProfile(id);\r\n    dispatch(setMyProfile(data));\r\n    dispatch(setLoading(false));\r\n  } catch (e) {}\r\n};\r\n\r\nexport const setMyPhoto = (photo: File):\r\n    ThunkAction<Promise<void>, RootState, unknown, Action> => async (dispatch) => {\r\n  try {\r\n    const data = await profileApi.setPhoto(photo);\r\n    if (data.resultCode === 0) {\r\n      dispatch(addMyPhoto(data.data.photos));\r\n      dispatch(setImg(data.data.photos.small))\r\n    }\r\n    if (data.resultCode === 1) {\r\n      dispatch(addMyImgErrors(data.messages.toString()));\r\n    }\r\n  } catch (e) {}\r\n};\r\n\r\nexport const setMyInfo = (info: object, id: number):\r\n    ThunkAction<Promise<void>, RootState, unknown, Action> => async (dispatch) => {\r\n  dispatch(setLoading(true));\r\n  try {\r\n    const data = await profileApi.setInfo(info);\r\n    if (data.resultCode === 0) {\r\n      dispatch(addMyInfo(data));\r\n      await dispatch(getMyProfile(id));\r\n      dispatch(setLoading(false));\r\n    }\r\n    if (data.resultCode === 1) {\r\n      dispatch(addMyInfoErrors(data.messages));\r\n      dispatch(setLoading(false));\r\n    }\r\n  } catch (e) {}\r\n};\r\n\r\nexport default settingsSlice.reducer;\r\n","import {Action, createSlice, Dispatch, PayloadAction, ThunkAction} from '@reduxjs/toolkit';\r\nimport { authApi, profileApi, securityApi } from '../api/api';\r\nimport { setMyProfile } from './settings-reducer';\r\nimport {RootState} from \"./redux-store\";\r\n\r\ntype initialState = {\r\n  user: {\r\n    id: number,\r\n    login: string | null,\r\n    email: string | null,\r\n    img?: string | null,\r\n  },\r\n  isAuth: boolean,\r\n  isLoading: boolean,\r\n  authErrors: string,\r\n  captchaUrl: string,\r\n}\r\n\r\nconst initialState: initialState = {\r\n  user: {\r\n    id: 0,\r\n    login: null,\r\n    email: null,\r\n    img: null,\r\n  },\r\n  isAuth: false,\r\n  isLoading: false,\r\n  authErrors: '',\r\n  captchaUrl: '',\r\n};\r\n\r\nconst authSlice = createSlice({\r\n  name: 'AuthSlice',\r\n  initialState,\r\n  reducers: {\r\n    setUserData: (state, action: PayloadAction<{\r\n      id: number | 0,\r\n      login: string | null,\r\n      email: string | null,\r\n      img?: string | null,}>) => {\r\n      state.user = action.payload;\r\n    },\r\n    setLoading: (state, action: PayloadAction<boolean>) => {\r\n      state.isLoading = action.payload;\r\n    },\r\n    setImg: (state, action: PayloadAction<string | undefined>) => {\r\n      state.user.img = action.payload;\r\n    },\r\n    setErrors: (state, action: PayloadAction<string>) => {\r\n      state.authErrors = action.payload;\r\n    },\r\n    setIsAuth: (state, action: PayloadAction<boolean>) => {\r\n      state.isAuth = action.payload;\r\n    },\r\n    setCaptchaUrl: (state, action: PayloadAction<string>) => {\r\n      state.captchaUrl = action.payload;\r\n    },\r\n  },\r\n});\r\n\r\nexport const {\r\n  setUserData, setImg, setCaptchaUrl, setErrors, setIsAuth, setLoading,\r\n} = authSlice.actions;\r\n\r\nexport const getLogin = (id: number):\r\n    ThunkAction<Promise<void>, RootState, unknown, Action> => async (dispatch) => {\r\n  dispatch(setLoading(true));\r\n  try {\r\n    const data = await authApi.getAuthMe();\r\n    if (data.resultCode === 0) {\r\n      dispatch(setUserData(data.data));\r\n      dispatch(setIsAuth(true));\r\n    }\r\n    const profileData = await profileApi.getProfile(id);\r\n    dispatch(setImg(profileData.photos.small));\r\n    dispatch(setMyProfile(profileData));\r\n    dispatch(setLoading(false));\r\n  } catch (e) {\r\n    dispatch(setLoading(false));\r\n  }\r\n};\r\n\r\nexport const setSignIn = (loginData: {\r\n  email: string,\r\n  password: string,\r\n  rememberMe: boolean,\r\n  captcha: string | null,\r\n}): ThunkAction<Promise<void>, RootState, unknown, Action> => async (dispatch) => {\r\n  dispatch(setLoading(true));\r\n  try {\r\n    const data = await authApi.getSignIn(loginData);\r\n    if (data.resultCode === 10) {\r\n      const captcha = await securityApi.getCaptcha();\r\n      if (captcha) {\r\n        dispatch(setCaptchaUrl(captcha.url));\r\n        dispatch(setErrors(data.messages.toString()));\r\n        dispatch(setLoading(false));\r\n      }\r\n    }\r\n    if (data.resultCode === 0) {\r\n      await dispatch(getLogin(data.data.userId));\r\n      dispatch(setLoading(false));\r\n    } else {\r\n      dispatch(setLoading(false));\r\n      dispatch(setErrors(data.messages.toString()));\r\n    }\r\n  } catch (e) {\r\n    dispatch(setLoading(false));\r\n  }\r\n};\r\n\r\nexport const setLogOut = ():\r\n    ThunkAction<Promise<void>, RootState, unknown, Action> => async (dispatch) => {\r\n  dispatch(setLoading(true));\r\n  const data = await authApi.getLogOut();\r\n  if (data.resultCode === 0) {\r\n    dispatch(setIsAuth(false));\r\n    dispatch(setUserData({\r\n      id: 0,\r\n      login: null,\r\n      email: null,\r\n      img: null,\r\n    }));\r\n    dispatch(setErrors(''));\r\n    dispatch(setCaptchaUrl(''));\r\n    dispatch(setLoading(false));\r\n  }\r\n};\r\n\r\nexport default authSlice.reducer;\r\n","import classes from './Login.module.css'\r\nimport {SubmitHandler, useForm} from \"react-hook-form\";\r\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\r\nimport {faExclamationCircle} from \"@fortawesome/free-solid-svg-icons\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {setSignIn} from \"../../redux/auth-reducer\";\r\nimport {Navigate} from \"react-router-dom\";\r\nimport Loading from \"../../common/Loading/Loading\";\r\nimport {FC, useEffect} from \"react\";\r\nimport {AppDispatch, RootState} from \"../../redux/redux-store\";\r\n\r\n\r\ntype Data = {email: string, password: string, rememberMe: boolean, captcha: string}\r\n\r\n\r\nconst Login: FC = () => {\r\n\r\n    const {\r\n        register,\r\n        formState: {\r\n            errors,\r\n            isValid\r\n        },\r\n        setError,\r\n        reset,\r\n        handleSubmit,\r\n\r\n    } = useForm<Data>({\r\n        mode: \"all\"\r\n    })\r\n\r\n\r\n    const auth = useSelector((state: RootState) => state.auth)\r\n\r\n    const {isAuth, isLoading, captchaUrl, authErrors} = auth\r\n\r\n    const dispatch: AppDispatch = useDispatch()\r\n\r\n    const onSubmit: SubmitHandler<Data> = (data) => {\r\n        dispatch(setSignIn(data))\r\n        reset({\r\n            \"email\": data.email\r\n        })\r\n    }\r\n\r\n    const signErrors = {\r\n        valid : 'Enter valid Email',\r\n        emailPass : 'Incorrect Email or Password',\r\n        captcha : 'Incorrect anti-bot symbols'\r\n    }\r\n\r\n    useEffect(() => {\r\n\r\n        if (authErrors === signErrors.valid || authErrors === signErrors.emailPass) {\r\n            setError(\"email\", {\r\n                type: \"manual\",\r\n                message : authErrors\r\n            })\r\n        }\r\n        if (authErrors === signErrors.emailPass) {\r\n            setError('password', {\r\n                type: \"manual\",\r\n                message : authErrors\r\n            })\r\n        }\r\n        if (authErrors === signErrors.captcha) {\r\n            setError('captcha', {\r\n                type: \"manual\",\r\n                message : authErrors\r\n            })\r\n        }\r\n\r\n    }, [authErrors, errors])\r\n\r\n    if (isLoading) {\r\n        return <Loading/>\r\n    }\r\n\r\n    if (isAuth) {\r\n        return <Navigate to='/profile'/>\r\n    }\r\n\r\n    return (\r\n        <div className={classes.login}>\r\n            <div className={classes.body}>\r\n                <h1>Sign In</h1>\r\n                <form onSubmit={handleSubmit(onSubmit)}>\r\n                    <label>\r\n                        Login:\r\n                        <input autoFocus={authErrors !== signErrors.captcha}\r\n                               className={errors?.email ? classes.input_error : classes.input}\r\n                               placeholder={'Email...'}  {...register('email', {\r\n                            required: 'Enter email',\r\n                            pattern: {\r\n                                value : /[A-za-z]/,\r\n                                message : 'Only latin characters'\r\n                            }\r\n                        })}/>\r\n                        {errors?.email && <p className={classes.error}>\r\n                            <FontAwesomeIcon className={classes.icon}\r\n                                             icon={faExclamationCircle}/>{errors.email.message}</p>}\r\n                    </label>\r\n                    <label>\r\n                        Password:\r\n                        <input autoFocus={authErrors === signErrors.captcha}\r\n                               type='password' className={errors?.password ? classes.input_error : classes.input}\r\n                               placeholder={'Password...'} {...register('password', {\r\n                            required: 'Enter password'\r\n                        })}/>\r\n                        {errors?.password && <p className={classes.error}>\r\n                            <FontAwesomeIcon\r\n                                className={classes.icon}\r\n                                icon={faExclamationCircle}/>{errors.password.message}</p>}\r\n                    </label>\r\n                    <div className={classes.remember}>\r\n                        <input className={classes.checkbox} type=\"checkbox\" {...register('rememberMe')}/>\r\n                        <div className={classes.text}>Remember me</div>\r\n                    </div>\r\n                    {captchaUrl && <div className={classes.captcha}>\r\n                        <img src={captchaUrl} alt=\"\"/>\r\n                        <input\r\n                            className={errors?.captcha ? classes.input_error : classes.input}\r\n                            {...register(\"captcha\", {\r\n                            required: \"Enter characters from the picture\"\r\n                        })}/>\r\n                        {errors.captcha && <p className={classes.error}>\r\n                            <FontAwesomeIcon\r\n                                className={classes.icon}\r\n                                icon={faExclamationCircle}/>{errors.captcha.message}</p>}\r\n                    </div>}\r\n                    <input className={classes.button} disabled={!isValid} type=\"submit\" value='Sing In'/>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Login","import { useSelector } from \"react-redux\";\r\nimport { Navigate } from 'react-router-dom';\r\nimport Loading from \"../common/Loading/Loading\";\r\nimport {RootState} from \"../redux/redux-store\";\r\n\r\nconst AuthRedirect = ({children}: {children: JSX.Element}) => {\r\n\r\n    const isAuth = useSelector((state: RootState) => state.auth.isAuth)\r\n    const isLoading = useSelector((state: RootState) => state.auth.isLoading)\r\n\r\n    if (isLoading) return <Loading/>\r\n    if (!isAuth) return <Navigate to=\"/login\"/>\r\n\r\n    return children\r\n\r\n}\r\n\r\nexport default AuthRedirect","import {NavLink} from \"react-router-dom\";\r\nimport classes from './DialogsNames.module.css'\r\nimport {FC, useEffect, useMemo} from \"react\";\r\nimport defaultImg from \"../../../img/default-user.png\"\r\nimport {DialogType} from \"../../../types/types\";\r\n\r\ntype Props = {\r\n    names: Array<DialogType>\r\n    getMessages: (userId: number) => void\r\n    setUserId: (userId: number) => void\r\n    getDialogs: () => void\r\n}\r\n\r\ntype Names = {\r\n    names: Array<DialogType>\r\n}\r\n\r\nconst DialogsNames: FC<Props> = ({names, getMessages, setUserId, getDialogs}) => {\r\n\r\n    useEffect(() => {\r\n        getDialogs()\r\n    },[])\r\n\r\n    const Names: FC<Names> = ({names}) => useMemo(() => {\r\n        return (\r\n            <>{\r\n                names.map((name) =>\r\n                    <NavLink to={'/dialogs/'+ name.id}\r\n                             key={name.id}\r\n                             onClick={() => {\r\n                                 // props.getMessages(name.id)\r\n                                 setUserId(name.id)\r\n                             }}\r\n                             className={e => e.isActive\r\n                                 ? `${classes.name} ${classes.active}`\r\n                                 : classes.name}>\r\n                        <img className={classes.avatar} src={name.photos.small ? name.photos.small : defaultImg} alt=\"\"/>\r\n                        {name.userName}\r\n                    </NavLink>)\r\n            }</>\r\n        )\r\n    },[names])\r\n\r\n    return (\r\n        <div className={classes.dialogs}>\r\n            <div className={classes.body}>\r\n                <div className={classes.names}>\r\n                    <NavLink className={e => e.isActive\r\n                        ? `${classes.name} ${classes.active}`\r\n                        : classes.name} to={'/dialogs/common'}>\r\n                        <img className={classes.avatar} src={defaultImg} alt=\"\"/>\r\n                        Common dialog</NavLink>\r\n                    <Names names={names}/>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\nexport default DialogsNames","import classes from './DialogsTextArea.module.css'\r\nimport {FC} from \"react\";\r\nimport {SendMessage} from \"react-use-websocket/src/lib/types\"\r\nimport {ReadyState} from \"react-use-websocket/src/lib/constants\";\r\n\r\ntype Props = {\r\n    newMessageText: string\r\n    addNewMessageText: (text: string) => void\r\n    userId: number | string\r\n    addNewMessage: (userId: number, message: string) => void\r\n    common: boolean\r\n    sendMessage: SendMessage\r\n    readyState: ReadyState\r\n}\r\n\r\n\r\nconst DialogsTextArea: FC<Props> = ({newMessageText, addNewMessageText, userId,\r\n                                        addNewMessage, common, sendMessage, readyState}) => {\r\n\r\n    const addMessageText = (e: any) => {\r\n        addNewMessageText(e.target.value)\r\n    }\r\n\r\n    return (\r\n        <div className={classes.textarea}>\r\n            <textarea onChange={addMessageText}\r\n                      value={newMessageText}/>\r\n            <button className={classes.button}\r\n                    disabled={readyState === 0 || readyState === 3}\r\n                    onClick={!common ? () => {addNewMessage(+userId, newMessageText)}\r\n                    : () => sendMessage(newMessageText)}>Send</button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default DialogsTextArea","import classes from './DialogsMessages.module.css'\r\nimport DialogsTextArea from \"./DialogsTextArea/DialogsTextArea\";\r\nimport {FC, useEffect, useMemo, useState} from \"react\";\r\nimport Loading from \"../../../common/Loading/Loading\";\r\nimport {commonDialog, MessageType} from \"../../../types/types\";\r\nimport {bodyRef} from \"../../../App\";\r\nimport {useWebSocket} from \"react-use-websocket/dist/lib/use-websocket\";\r\n\r\n\r\ntype Props = {\r\n    userId: number |  ''\r\n    addNewMessageText: (text: string) => void\r\n    addNewMessage: (userId: number, message: string) => void\r\n    id: number | null\r\n    loading: boolean\r\n    getMessages: (userId: number) => void\r\n    match: string | number | null | undefined\r\n    messages: Array<MessageType> | [],\r\n    newMessageText: string\r\n    setCommonDialog: (dialogs: any) => void\r\n    commonDialog: commonDialog[]\r\n\r\n}\r\n\r\ntype MessagesType = {\r\n    messages: Array<MessageType> | [],\r\n}\r\n\r\n\r\nconst DialogsMessages: FC<Props> = ({userId, addNewMessageText, addNewMessage,\r\n                             id, loading, getMessages,\r\n                             match, messages, newMessageText,\r\n                                        setCommonDialog, commonDialog}) => {\r\n\r\n    const [common, setCommon] = useState<boolean>(false)\r\n    const [webSocket, setWebSocket] = useState<string>('wss://social-network.samuraijs.com/handlers/ChatHandler.ashx')\r\n\r\n    const { sendMessage, lastMessage, readyState } = useWebSocket(webSocket);\r\n\r\n    useEffect(() => {\r\n        if (lastMessage !== null) {\r\n            setCommonDialog(JSON.parse(lastMessage.data))\r\n        }\r\n    },[lastMessage])\r\n\r\n\r\n    useEffect(() => {\r\n        if (match === \"common\") {\r\n            bodyRef.current.scrollTo(0, 5000)\r\n        }\r\n    },[common, commonDialog,loading])\r\n\r\n\r\n    useEffect(() => {\r\n        if (match === \"common\") {\r\n            setCommon(true)\r\n        } else if (match) {\r\n            setCommon(false)\r\n            getMessages(+match)\r\n        }\r\n    },[match])\r\n\r\n    const Messages: FC<MessagesType> = ({messages}) => useMemo(\r\n        () => <>\r\n            {\r\n            messages.map(el => <div key={el.id}\r\n                                    className={el.senderId === id\r\n                                        ? classes.item\r\n                                        : `${classes.item} ${classes.second_item}`}>\r\n                    <div className={el.senderId === id ?\r\n                        classes.message : classes.second_message}\r\n                         dangerouslySetInnerHTML={{__html: el.body}}/>\r\n                </div>\r\n            )\r\n        }\r\n        </>\r\n    ,[messages])\r\n\r\n    const CommonMessages: FC<{\r\n        messages: commonDialog[]}> = ({messages}) => {\r\n\r\n        return (\r\n            <>\r\n                {\r\n                    messages.map((el, index) => <div className={\r\n                        el.userId === id\r\n                        ? classes.item\r\n                        : `${classes.item} ${classes.second_item}`} key={index}>\r\n                        <div className={el.userId === id ?\r\n                            classes.message : classes.second_message}\r\n                             dangerouslySetInnerHTML={{__html: el.message}}/>\r\n                    </div>)\r\n                }\r\n            </>\r\n        )\r\n    }\r\n\r\n    if (!match) {\r\n        return (\r\n            <div className={classes.select_dialog}>\r\n                <div>\r\n                    Select a user to send a message\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <div className={classes.messages}>\r\n            <div className={classes.body}>\r\n                {loading ? <Loading/> : common ? <CommonMessages messages={commonDialog}/>\r\n                : <Messages messages={messages}/>}\r\n            </div>\r\n            <DialogsTextArea newMessageText={newMessageText}\r\n                             addNewMessageText={addNewMessageText}\r\n                             userId={userId}\r\n                             addNewMessage={addNewMessage}\r\n                             common={common}\r\n                             sendMessage={sendMessage}\r\n                             readyState={readyState}\r\n\r\n            />\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\nexport default DialogsMessages","import classes from './Dialogs.module.css'\r\nimport DialogsNames from \"./DialogsNames/DialogsNames\";\r\nimport DialogsMessages from \"./DialogsMessages/DialogsMessages\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {addNewMessageText, getMessages, setMessage, setUserId, setCommonDialog} from \"../../redux/dialogs-reducer\";\r\nimport {useMatch} from \"react-router-dom\";\r\nimport {AppDispatch, RootState} from '../../redux/redux-store'\r\nimport {getDialogs} from \"../../redux/dialogs-reducer\";\r\nimport {FC} from \"react\";\r\n\r\nconst Dialogs: FC = () =>  {\r\n\r\n    const match = useMatch(\"/dialogs/:userId\")\r\n    const dialogsPage = useSelector((state: RootState) => state.dialogsPage)\r\n    const {dialogs, userId, isLoading, messages, newMessageText, commonDialog} = dialogsPage\r\n    const id = useSelector((state: RootState) => state.auth.user.id)\r\n    const dispatch: AppDispatch = useDispatch()\r\n\r\n    return (\r\n        <div className={classes.dialogs}>\r\n            <div className={classes.title}></div>\r\n            <div className={classes.body}>\r\n                <DialogsNames names={dialogs}\r\n                              getMessages={(userId: number) => dispatch(getMessages(userId))}\r\n                              setUserId={(userId: number) => dispatch(setUserId(userId))}\r\n                              getDialogs={() => dispatch(getDialogs())}\r\n                />\r\n                <DialogsMessages messages={messages}\r\n                                 newMessageText={newMessageText}\r\n                                 userId={userId}\r\n                                 addNewMessageText={(text: string) => dispatch(addNewMessageText(text))}\r\n                                 addNewMessage={(userId: number, message: string) => dispatch(setMessage(userId, message))}\r\n                                 id={id}\r\n                                 loading={isLoading}\r\n                                 getMessages={(userId: number) => dispatch(getMessages(userId))}\r\n                                 match={match ? match.params.userId : null}\r\n                                 setCommonDialog={(dialogs: any) => dispatch(setCommonDialog(dialogs))}\r\n                                 commonDialog={commonDialog}\r\n                />\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Dialogs","export default __webpack_public_path__ + \"static/media/logo.6ce24c58.svg\";","import {NavLink} from 'react-router-dom';\r\nimport logo from '../../logo.svg';\r\nimport classes from './Header.module.css';\r\nimport defaultAva from '../../img/default-user.png';\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {setLogOut} from \"../../redux/auth-reducer\";\r\nimport React, {FC, memo, useCallback, useState} from \"react\";\r\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\r\nimport {faSignOutAlt} from \"@fortawesome/free-solid-svg-icons\";\r\nimport {CSSTransition} from \"react-transition-group\"\r\nimport {setActive} from \"../../redux/navigation-reducer\";\r\nimport {AppDispatch, RootState} from \"../../redux/redux-store\";\r\nimport {Action} from \"redux\";\r\n\r\nconst Header = () => {\r\n\r\n    const auth = useSelector((state:RootState) => state.auth)\r\n    const {user, isAuth} = auth\r\n    const img = useSelector((state: RootState) => state.auth.user.img)\r\n    const isActive = useSelector((state: RootState) => state.navigation.isActive)\r\n\r\n    const dispatch: AppDispatch = useDispatch()\r\n\r\n    const [editMode, setMode] = useState(false)\r\n\r\n\r\n\r\n    const Avatar: FC<{img: string | null | undefined}> = ({img}) => <img\r\n                className={classes.avatar}\r\n                src={img ? img : defaultAva}\r\n                alt=\"\"/>\r\n\r\n\r\n\r\n    const activeNavigation: Function = useCallback(() => (): Action =>  isActive ?\r\n        dispatch(setActive(false)) : dispatch(setActive(true)),[])\r\n\r\n\r\n    return (\r\n        <div className={classes.back}>\r\n            <header className={classes.header}>\r\n                <div className={classes.body}>\r\n                    <div className={isActive ? `${classes.burger} ${classes.burger_active}` : classes.burger}\r\n                    onClick={() => activeNavigation()}>\r\n                        <span/>\r\n                        <span/>\r\n                    </div>\r\n                    <img\r\n                        className={`${classes.logo} ${classes.anim}`}\r\n                        src={logo}\r\n                        alt=\"\"\r\n                    />\r\n                    <div className={classes.brand}>React</div>\r\n                </div>\r\n                <div className={classes.body_login}>\r\n                    <Avatar img={img}/>\r\n                    {\r\n                        isAuth ? (\r\n                        <div className={classes.side_menu}>\r\n                            <div onClick={() => editMode ? setMode(false) : setMode(true)}\r\n                                 className={classes.login}>{user.login}\r\n                            </div>\r\n                            <CSSTransition\r\n                                in={editMode}\r\n                                timeout={100}\r\n                                unmountOnExit\r\n                                classNames={{\r\n                                    enterActive: classes.MyClassEnterActive,\r\n                                    enterDone: classes.MyClassEnterDone,\r\n                                    exitActive: classes.MyClassExit\r\n                                }}>\r\n                                <div className={classes.MyClass}>\r\n                                    <div className={classes.hide} onClick={() => setMode(false)}/>\r\n                                    <div className={classes.login_menu}>\r\n                                        <ul>\r\n                                            <li className={classes.item}\r\n                                            onClick={() => {\r\n                                                dispatch(setLogOut())\r\n                                                setMode(false)\r\n                                            }}>\r\n                                            <FontAwesomeIcon\r\n                                                className={classes.icon}\r\n                                                icon={faSignOutAlt}/>Log out</li>\r\n                                        </ul>\r\n                                    </div>\r\n                                </div>\r\n                            </CSSTransition>\r\n                        </div>\r\n                    ) : (\r\n                        <NavLink to=\"/login\" className={classes.login}>\r\n                            login\r\n                        </NavLink>\r\n                    )}\r\n                </div>\r\n            </header>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Header;\r\n","import { useSelector } from \"react-redux\";\r\nimport { Navigate } from 'react-router-dom';\r\nimport Loading from \"../common/Loading/Loading\";\r\nimport {RootState} from \"../redux/redux-store\";\r\n\r\nconst InitiationRedirect = () => {\r\n\r\n    const isAuth = useSelector((state: RootState) => state.auth.isAuth)\r\n    const isLoading = useSelector((state: RootState) => state.auth.isLoading)\r\n\r\n    if (isLoading) return <Loading/>\r\n    if (!isAuth) return <Navigate to=\"/login\"/>\r\n    else return <Navigate to=\"/profile\"/>\r\n\r\n}\r\n\r\nexport default InitiationRedirect","import React, {FC, useMemo} from \"react\";\r\nimport svg from \"../../img/Rolling-1s-200px.svg\"\r\nimport classes from \"./Photo.module.css\"\r\nimport {PhotosType} from \"../../types/types\";\r\n\r\ntype Props = {\r\n    errors: string | null\r\n    loading: boolean\r\n    photo: PhotosType\r\n}\r\n\r\nconst Photo: FC<Props> = ({photo, loading, errors}) => useMemo(() => {\r\n\r\n    if (loading) return (\r\n        <div className={classes.imgBody}>\r\n            <img className={classes.imgLoading} src={svg} alt=\"\"/>\r\n        </div>\r\n    )\r\n\r\n    return <img className={classes.img} src={photo.large} alt=\"\"/>\r\n\r\n},[photo,loading,errors])\r\n\r\nexport default Photo","import {SubmitHandler, useForm} from \"react-hook-form\";\r\nimport classes from \"./Settings.module.css\"\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport React, {FC, useEffect, useMemo, useState} from \"react\";\r\nimport Loading from \"../../common/Loading/Loading\";\r\nimport Photo from \"./Photo\";\r\nimport {getMyProfile, setMyInfo, setMyPhoto} from \"../../redux/settings-reducer\";\r\nimport {AppDispatch, RootState} from \"../../redux/redux-store\";\r\n\r\n\r\ntype Data = {\r\n    image?: FileList\r\n    aboutMe: string\r\n    facebook: string\r\n    fullName: string\r\n    github: string\r\n    instagram: string\r\n    lookingForAJob: string\r\n    lookingForAJobDescription: string\r\n    twitter: string\r\n    vk: string\r\n    youtube: string\r\n    website: string\r\n    mainLink: string\r\n}\r\n\r\nconst Settings: FC = () => {\r\n\r\n    const {\r\n        formState: {\r\n            errors,\r\n        },\r\n        register,\r\n        setError,\r\n        reset,\r\n        handleSubmit\r\n    } = useForm<Data>({\r\n        mode: \"onChange\"\r\n    })\r\n\r\n    const dispatch: AppDispatch = useDispatch()\r\n\r\n    const id = useSelector((state: RootState) => state.auth.user.id)\r\n    const loading = useSelector((state: RootState) => state.settings.isLoading)\r\n    const profile = useSelector((state: RootState) => state.settings.profile)\r\n    const apiErrors = useSelector((state: RootState) => state.settings.myErrors)\r\n\r\n\r\n    const {img, contacts} = apiErrors\r\n\r\n    const {fullName, lookingForAJob, lookingForAJobDescription, aboutMe} = profile\r\n\r\n    const {github, vk, facebook, instagram, twitter, youtube} = profile.contacts\r\n\r\n    const [radio, setRadio] = useState(lookingForAJob)\r\n    const [imgLoading, setImgLoading] = useState(false)\r\n\r\n    const submitErrors = {\r\n        extendion : 'File should has .jpg, .jpeg or .png extendion',\r\n        size: 'Image should be less then 10MB'\r\n    }\r\n\r\n    useEffect(() => {\r\n        dispatch(getMyProfile(id))\r\n    },[])\r\n\r\n    useEffect(() => {\r\n        if (img === submitErrors.extendion || img === submitErrors.size) {\r\n            setError(\"image\", {\r\n                type: \"manual\",\r\n                message : img\r\n            })\r\n        }\r\n    },[img])\r\n\r\n\r\n    useMemo(() => {\r\n\r\n        const error = 'Invalid url format'\r\n\r\n        const facebookInvalid = `${error} (Contacts->Facebook)`\r\n        const vkInvalid = `${error} (Contacts->Vk)`\r\n        const twitterInvalid = `${error} (Contacts->Twitter)`\r\n        const instagramInvalid = `${error} (Contacts->Instagram)`\r\n        const youtubeInvalid = `${error} (Contacts->Youtube)`\r\n        const githubInvalid = `${error} (Contacts->Github)`\r\n\r\n        if (contacts !== null) {\r\n            contacts.forEach(el => {\r\n                if (el === githubInvalid) {\r\n                    setError(\"github\", {\r\n                        type: \"manual\",\r\n                        message: error\r\n                    })\r\n                } else if (el === vkInvalid) {\r\n                    setError(\"vk\", {\r\n                        type: \"manual\",\r\n                        message: error\r\n                    })\r\n                } else if (el === facebookInvalid) {\r\n                    setError(\"facebook\", {\r\n                        type: \"manual\",\r\n                        message: error\r\n                    })\r\n                } else if (el === instagramInvalid) {\r\n                    setError(\"instagram\", {\r\n                        type: \"manual\",\r\n                        message: error\r\n                    })\r\n                } else if (el === twitterInvalid) {\r\n                    setError(\"twitter\", {\r\n                        type: \"manual\",\r\n                        message: error\r\n                    })\r\n                    return el\r\n                } else if (el === youtubeInvalid) {\r\n                    setError(\"youtube\", {\r\n                        type: \"manual\",\r\n                        message: error\r\n                    })\r\n                } else {\r\n                    return el\r\n                }\r\n            })\r\n        }\r\n    },[contacts])\r\n\r\n\r\n    const onSubmit: SubmitHandler<Data> = (data) => {\r\n\r\n        delete data.image\r\n        const userId = id\r\n\r\n        const {lookingForAJob, lookingForAJobDescription, fullName, aboutMe,\r\n            github, vk, facebook ,\r\n            instagram, twitter, website,\r\n            youtube, mainLink} = data\r\n\r\n        const obj = {\r\n            userId,\r\n            lookingForAJob: lookingForAJob === \"yes\" ? true : false,\r\n            lookingForAJobDescription,\r\n            fullName,\r\n            aboutMe,\r\n            contacts: {\r\n                github,\r\n                vk,\r\n                facebook,\r\n                instagram,\r\n                twitter,\r\n                website,\r\n                youtube,\r\n                mainLink\r\n            }\r\n        }\r\n\r\n        dispatch(setMyInfo(obj, id))\r\n\r\n        const resetObj = {\r\n            fullName: fullName.length !== 0 ? fullName : profile.fullName,\r\n            aboutMe: aboutMe.length !== 0 ? aboutMe : profile.aboutMe,\r\n            lookingForAJobDescription: lookingForAJobDescription.length !== 0\r\n                ? lookingForAJobDescription\r\n                : profile.lookingForAJobDescription,\r\n            github,\r\n            vk,\r\n            facebook,\r\n            instagram,\r\n            twitter,\r\n            youtube,\r\n        }\r\n\r\n        reset(resetObj)\r\n    }\r\n\r\n    const onAvatar: SubmitHandler<Data> = async (photo: Data) => {\r\n\r\n        if (photo?.image?.[0].type !== \"image/jpeg\" && photo?.image?.[0].type !== \"image/png\") {\r\n            return setError(\"image\", {\r\n                type: \"manual\",\r\n                message: \"File should has .jpg, .jpeg or .png extendion\"\r\n            })\r\n        }\r\n        await setImgLoading(true)\r\n        await dispatch(setMyPhoto(photo.image[0]))\r\n        await setImgLoading(false)\r\n    }\r\n\r\n    if (loading) return <Loading/>\r\n\r\n    return (\r\n        <div className={classes.settings}>\r\n            <h1 className={classes.title}>Settings</h1>\r\n            <div className={classes.body}>\r\n                <form onSubmit={handleSubmit(onSubmit)}>\r\n                    <div className={classes.avatar_name}>\r\n                        <label className={classes.avatar}\r\n                               onChange={handleSubmit(onAvatar)}\r\n                               htmlFor=\"avatar\">\r\n                            Avatar\r\n                            <div className={errors.image ? `${classes.photo} ${classes.errorBorder}` : classes.photo}>\r\n                                <Photo errors={img} photo={profile.photos} loading={imgLoading}/>\r\n                            </div>\r\n                            {errors?.image && <div className={classes.photoError}>{errors.image.message}</div>}\r\n                            <input id=\"avatar\" className={classes.avatar_hidden} type=\"file\"\r\n                                   {...register(\"image\")}/>\r\n                        </label>\r\n                        <div className={classes.name}>\r\n                            <label>\r\n                                Name\r\n                                <input type=\"text\" {...register(\"fullName\", {value: fullName})}/>\r\n                            </label>\r\n                            <div>\r\n                                Looking for a job\r\n                                <div className={classes.label_job}>\r\n                                    <input className={classes.job} type=\"radio\"\r\n                                           id=\"job-yes\"\r\n                                           value={\"yes\"}\r\n                                           checked={radio}\r\n                                           onClick={() => setRadio(true)}\r\n                                        {...register(\"lookingForAJob\")}/>\r\n                                    Yes\r\n                                </div>\r\n                                <div className={classes.label_job}>\r\n                                    <input className={classes.job} type=\"radio\"\r\n                                           id=\"job-no\"\r\n                                           value={\"no\"}\r\n                                           checked={!radio}\r\n                                           onClick={() => setRadio(false)}\r\n                                        {...register(\"lookingForAJob\")}/>\r\n                                    No\r\n                                </div>\r\n                            </div>\r\n                            <label>\r\n                                About Me\r\n                                <input type=\"text\" {...register(\"aboutMe\", {value: aboutMe})}/>\r\n                            </label>\r\n                        </div>\r\n                    </div>\r\n                    <label>\r\n                        Job description\r\n                        <input type=\"text\"\r\n                            {...register(\"lookingForAJobDescription\", {value: lookingForAJobDescription})}/>\r\n                    </label>\r\n                    <div className={classes.contacts}>\r\n                        <label>\r\n                            Contacts\r\n                            <input className={errors?.github ? `${classes.github} ${classes.errorBorder}` : classes.github}\r\n                                   type=\"text\"\r\n                                   placeholder=\"&#xf09b;   Github\"\r\n                                   autoComplete={\"off\"}\r\n                                   {...register(\"github\", {value: github})}/>\r\n                                   {errors?.github && <div className={classes.errorColor}>{errors.github.message}</div>}\r\n                            <input className={errors?.vk ? `${classes.vk} ${classes.errorBorder}` : classes.vk}\r\n                                   type=\"text\" placeholder=\"&#xf189;   VK\"\r\n                                   autoComplete={\"off\"}\r\n                                   {...register(\"vk\", {value: vk})}/>\r\n                                   {errors?.vk && <div className={classes.errorColor}>{errors.vk.message}</div>}\r\n                            <input className={errors?.facebook ? `${classes.facebook} ${classes.errorBorder}` : classes.facebook}\r\n                                   type=\"text\"\r\n                                   placeholder=\"&#xf09a;   Facebook\"\r\n                                   autoComplete={\"off\"}\r\n                                   {...register(\"facebook\", {value: facebook})}/>\r\n                                   {errors?.facebook && <div className={classes.errorColor}>{errors.facebook.message}</div>}\r\n                            <input className={\r\n                                        errors?.instagram\r\n                                        ? `${classes.instagram} ${classes.errorBorder}` : classes.instagram}\r\n                                   type=\"text\"\r\n                                   placeholder=\"&#xf16d;   Instagram\"\r\n                                   autoComplete={\"off\"}\r\n                                   {...register(\"instagram\", {value: instagram})}/>\r\n                                   {errors?.instagram && <div className={classes.errorColor}>{errors.instagram.message}</div>}\r\n                            <input className={\r\n                                        errors?.twitter\r\n                                        ? `${classes.twitter} ${classes.errorBorder}` : classes.twitter}\r\n                                   type=\"text\" placeholder=\"&#xf099;   Twitter\"\r\n                                   autoComplete={\"off\"}\r\n                                   {...register(\"twitter\", {value: twitter})}/>\r\n                                   {errors?.twitter && <div className={classes.errorColor}>{errors.twitter.message}</div>}\r\n                            <input className={\r\n                                        errors?.youtube\r\n                                        ? `${classes.youtube} ${classes.errorBorder}` : classes.youtube}\r\n                                   type=\"text\" placeholder=\"&#xf167;   Youtube\"\r\n                                   autoComplete={\"off\"}\r\n                                   {...register(\"youtube\", {value: youtube})}/>\r\n                                   {errors?.youtube && <div className={classes.errorColor}>{errors.youtube.message}</div>}\r\n                        </label>\r\n                    </div>\r\n                    <input className={classes.button} value=\"Save\" type=\"submit\"/>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Settings","\r\nconst reportWebVitals = (onPerfEntry) => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({\r\n      getCLS, getFID, getFCP, getLCP, getTTFB,\r\n    }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import { configureStore } from '@reduxjs/toolkit';\r\nimport profileReducer from './profile-reducer';\r\nimport dialogsReducer from './dialogs-reducer';\r\nimport navigationReducer from './navigation-reducer';\r\nimport findUsersReducer from './findUsers-reducer';\r\nimport authReducer from './auth-reducer';\r\nimport settingsReducer from './settings-reducer';\r\n\r\nconst store = configureStore({\r\n  reducer: {\r\n    profilePage: profileReducer,\r\n    dialogsPage: dialogsReducer,\r\n    navigation: navigationReducer,\r\n    findUsersPage: findUsersReducer,\r\n    auth: authReducer,\r\n    settings: settingsReducer,\r\n  },\r\n});\r\n\r\nexport type RootState = ReturnType<typeof store.getState>\r\n\r\nexport type AppDispatch = typeof store.dispatch\r\n\r\nexport default store;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport { Provider } from 'react-redux';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport store from './redux/redux-store';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store}>\r\n      <App />\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root'),\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__2mdnP\",\"logo\":\"Header_logo__2hfDq\",\"anim\":\"Header_anim__iEjHf\",\"brand\":\"Header_brand__1WxZ_\",\"back\":\"Header_back__1pBRx\",\"body\":\"Header_body__zZo5F\",\"login\":\"Header_login__12P2M\",\"login_menu\":\"Header_login_menu__3d3Na\",\"avatar\":\"Header_avatar__jWI7P\",\"body_login\":\"Header_body_login__3f2hN\",\"icon\":\"Header_icon__25gI0\",\"hide\":\"Header_hide__3dFv2\",\"active\":\"Header_active__JFtdy\",\"item\":\"Header_item__13v1o\",\"side_menu\":\"Header_side_menu__1Yj3v\",\"MyClass\":\"Header_MyClass__1bHKE\",\"MyClassEnterActive\":\"Header_MyClassEnterActive__318fk\",\"MyClassEnterDone\":\"Header_MyClassEnterDone__1wcRL\",\"MyClassExit\":\"Header_MyClassExit__3cgAC\",\"burger\":\"Header_burger__1-Lba\",\"burger_active\":\"Header_burger_active__3Uy0M\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"body\":\"NavigationSideBar_body__19LON\",\"profile\":\"NavigationSideBar_profile__1tPx3\",\"messages\":\"NavigationSideBar_messages__3G9Qh\",\"news\":\"NavigationSideBar_news__XU6xV\",\"music\":\"NavigationSideBar_music__yz5YQ\",\"settings\":\"NavigationSideBar_settings__W24jD\",\"item\":\"NavigationSideBar_item__2DRit\",\"active\":\"NavigationSideBar_active__14qeY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"login\":\"Login_login__3e42T\",\"body\":\"Login_body__2syzW\",\"input\":\"Login_input__1WfQg\",\"remember\":\"Login_remember__BfcH9\",\"checkbox\":\"Login_checkbox__17SvE\",\"button\":\"Login_button__SGmnw\",\"error\":\"Login_error__1aYrY\",\"input_error\":\"Login_input_error__13t1o\",\"icon\":\"Login_icon__2Qha6\",\"captcha\":\"Login_captcha__1cwTe\"};","import classes from \"../../common/Loading/Loading.module.css\";\r\nimport loading from \"../../img/Rolling-1s-200px.svg\";\r\n\r\nfunction Loading() {\r\n    return (\r\n        <div className={classes.body_loading}>\r\n            <img className={classes.loading} src={loading} alt=\"\"/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Loading","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profile\":\"ProfileData_profile__1SmiK\",\"body\":\"ProfileData_body__3zexM\",\"avatar\":\"ProfileData_avatar__17dDZ\",\"data\":\"ProfileData_data__2Cexl\",\"item\":\"ProfileData_item__1X0PU\",\"social\":\"ProfileData_social__38ByI\",\"contacts\":\"ProfileData_contacts__--EJ0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"messages\":\"DialogsMessages_messages__3vwXr\",\"body\":\"DialogsMessages_body__1W421\",\"message\":\"DialogsMessages_message__v10lr\",\"item\":\"DialogsMessages_item__14coX\",\"second_item\":\"DialogsMessages_second_item__27BV3\",\"second_message\":\"DialogsMessages_second_message__3VNLo\",\"select_dialog\":\"DialogsMessages_select_dialog__3GI78\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"DialogsNames_dialogs__1latn\",\"body\":\"DialogsNames_body__Aljgw\",\"names\":\"DialogsNames_names__haj5J\",\"name\":\"DialogsNames_name__38YBv\",\"active\":\"DialogsNames_active__7wywD\",\"avatar\":\"DialogsNames_avatar__1K5_C\"};","import {\r\n  Action,\r\n  createSlice, ThunkAction,\r\n\r\n} from '@reduxjs/toolkit';\r\nimport { dialogApi } from '../api/api';\r\nimport {DialogType, MessageType, commonDialog} from \"../types/types\";\r\nimport {RootState} from \"./redux-store\";\r\n\r\nconst initialState = {\r\n  commonDialog: [] as commonDialog[] | [],\r\n  dialogs: [] as Array<DialogType> | [],\r\n  messages: [] as Array<MessageType> | [],\r\n  newMessageText: '' as string | '',\r\n  isLoading: true as boolean,\r\n  userId: '' as number | '',\r\n  error: {}\r\n};\r\n\r\nconst dialogsSlice = createSlice({\r\n  name: 'dialogsSlice',\r\n  initialState,\r\n  reducers: {\r\n    addNewMessageText: (state, action) => {\r\n      state.newMessageText = action.payload;\r\n    },\r\n    getAllDialogs: (state, action) => {\r\n      state.dialogs = action.payload;\r\n    },\r\n    isLoading: (state, action) => {\r\n      state.isLoading = action.payload;\r\n    },\r\n    setMessages: (state, action) => {\r\n      state.messages = action.payload;\r\n    },\r\n    addNewMessage: (state, action) => {\r\n      if (state.newMessageText.length === 0) return;\r\n      state.messages = [...state.messages, action.payload];\r\n      state.newMessageText = '';\r\n    },\r\n    setUserId: (state, action) => {\r\n      state.userId = action.payload;\r\n    },\r\n    setCommonDialog: (state, action) => {\r\n      if (action.payload.length <= 1) state.commonDialog = [...state.commonDialog, ...action.payload]\r\n      else state.commonDialog = action.payload\r\n    }\r\n  },\r\n});\r\n\r\nexport const {\r\n  addNewMessageText, addNewMessage, getAllDialogs,\r\n  isLoading, setMessages, setUserId, setCommonDialog\r\n} = dialogsSlice.actions;\r\n\r\n\r\nexport const getDialogs = ():\r\n    ThunkAction<Promise<void>, RootState, unknown, Action> => async (dispatch) => {\r\n  try {\r\n    dispatch(isLoading(true));\r\n    const data = await dialogApi.getDialogs();\r\n    const mass: any = [];\r\n    const dataFilter = data.filter((el: DialogType) => {\r\n      const boolean = mass.some((num: number) => num === el.id);\r\n      if (!boolean) {\r\n        mass.push(el.id);\r\n        return el;\r\n      }\r\n    });\r\n\r\n    dispatch(getAllDialogs(dataFilter));\r\n    dispatch(isLoading(false));\r\n  } catch (e) {}\r\n};\r\n\r\nexport const getMessages = (userId : number)\r\n    : ThunkAction<Promise<void>, RootState, unknown, Action> => async (dispatch) => {\r\n  dispatch(isLoading(true));\r\n  try {\r\n    const data = await dialogApi.getMessages(userId);\r\n    dispatch(setMessages(data.items));\r\n    dispatch(isLoading(false));\r\n  } catch (e) {}\r\n};\r\n\r\nexport const setMessage = (userId: number, message: string)\r\n    : ThunkAction<Promise<void>, RootState, unknown, Action> => async (dispatch) => {\r\n  try {\r\n    const data = await dialogApi.setNewMessage(userId, message);\r\n    dispatch(addNewMessage(data.data.message));\r\n  } catch (e) {}\r\n};\r\n\r\nexport const addDialog = (userId: number)\r\n    : ThunkAction<Promise<void>, RootState, unknown, Action> => async (dispatch) => {\r\n  try {\r\n    const data = await dialogApi.setDialog(userId);\r\n  } catch (e) {}\r\n};\r\n\r\nexport default dialogsSlice.reducer;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"post\":\"ProfilePost_post__yn70h\",\"body\":\"ProfilePost_body__2p_ZU\",\"avatar\":\"ProfilePost_avatar__Uv8Tx\",\"text\":\"ProfilePost_text__1pQ3G\",\"like\":\"ProfilePost_like__2pJsp\",\"icon\":\"ProfilePost_icon__1m9-k\",\"likes\":\"ProfilePost_likes__qJdM_\",\"active\":\"ProfilePost_active__10tHJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"status\":\"ProfileStatus_status__3OVDj\",\"input\":\"ProfileStatus_input__IQMVW\",\"loading\":\"ProfileStatus_loading__1x2kF\",\"body\":\"ProfileStatus_body__36WGV\",\"hover\":\"ProfileStatus_hover__285ej\"};","export default \"data:image/png;base64,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\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"navigation\":\"Navigation_navigation__3jb-2\",\"back\":\"Navigation_back__189Ii\",\"hidden\":\"Navigation_hidden__37v6i\",\"active\":\"Navigation_active__216ce\",\"back_active\":\"Navigation_back_active__2pWZg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"friends\":\"NavigationFriends_friends__KEzdq\",\"body\":\"NavigationFriends_body__3lMya\",\"name\":\"NavigationFriends_name__3e_XM\",\"avatar\":\"NavigationFriends_avatar__1RV-K\"};","export default __webpack_public_path__ + \"static/media/Rolling-1s-200px.4aeb4f63.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"settings\":\"Settings_settings__2f3Ka\",\"body\":\"Settings_body__30vN5\",\"name\":\"Settings_name__1I1s6\",\"avatar_name\":\"Settings_avatar_name__1NkYK\",\"avatar\":\"Settings_avatar__30QRI\",\"photo\":\"Settings_photo__2_bcH\",\"avatar_hidden\":\"Settings_avatar_hidden__2l1dW\",\"button\":\"Settings_button__Bpy8U\",\"job\":\"Settings_job__2XIan\",\"label_job\":\"Settings_label_job__1ZdIX\",\"contacts\":\"Settings_contacts__-iXCx\",\"photoError\":\"Settings_photoError__38ff2\",\"errorBorder\":\"Settings_errorBorder__378yc\",\"errorColor\":\"Settings_errorColor__tzXsb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profile\":\"Profile_profile__37lPZ\",\"body\":\"Profile_body__2LteY\",\"img\":\"Profile_img__3OPkN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"myPosts\":\"ProfileMyPosts_myPosts__2F7rZ\",\"body\":\"ProfileMyPosts_body__1r__R\",\"title\":\"ProfileMyPosts_title__3x9Gn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialogs_dialogs__1XiLp\",\"body\":\"Dialogs_body__2tjAv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"img\":\"Photo_img__TDFUx\",\"imgBody\":\"Photo_imgBody__1JVE7\",\"imgLoading\":\"Photo_imgLoading__1kqaT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"body_loading\":\"Loading_body_loading__2m1pK\",\"loading\":\"Loading_loading__1gYiR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"body\":\"LoadingMin_body__3z_dw\",\"loading\":\"LoadingMin_loading__3eyB0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"textarea\":\"ProfileTextarea_textarea__2cS8c\",\"button\":\"ProfileTextarea_button__2w0tX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"textarea\":\"DialogsTextArea_textarea__27ZlF\",\"button\":\"DialogsTextArea_button__3LOh-\"};","import {Action, createSlice, ThunkAction} from '@reduxjs/toolkit';\r\nimport { followApi, usersApi } from '../api/api';\r\nimport {UserType} from \"../types/types\";\r\nimport {RootState} from \"./redux-store\";\r\n\r\n\r\nconst initialState = {\r\n  users: [] as Array<UserType>,\r\n  currentPage: 0 as number,\r\n  pageNumber: 1 as number,\r\n  totalPages: 0 as number,\r\n  isLoading: false as boolean,\r\n  userFollowLoading: [] as Array<number>,\r\n  searchUsers: '' as string,\r\n};\r\n\r\nconst findUsersSlice = createSlice({\r\n  name: 'findUsersSlice',\r\n  initialState,\r\n  reducers: {\r\n    followUnFollow: (state, action) => {\r\n      const { userId, follow } = action.payload;\r\n      state.users = state.users.map((u: UserType) => (u.id === userId\r\n        ? { ...u, followed: !follow } : u));\r\n    },\r\n    setUsers: (state, action) => {\r\n      state.users = action.payload;\r\n    },\r\n    setTotalPages: (state, action) => {\r\n      state.totalPages = action.payload;\r\n    },\r\n    setPageNumber: (state, action) => {\r\n      state.pageNumber = action.payload;\r\n    },\r\n    isLoading: (state, action) => {\r\n      state.isLoading = action.payload;\r\n    },\r\n    isFollowLoading: (state, action) => {\r\n      const { loading, id } = action.payload;\r\n      state.userFollowLoading = loading\r\n        ? [...state.userFollowLoading, id]\r\n        : state.userFollowLoading.filter((userId: number) => userId !== id);\r\n    },\r\n    setSearchUsers: (state, action) => {\r\n      state.searchUsers = action.payload;\r\n    },\r\n  },\r\n});\r\n\r\nexport const {\r\n  setUsers,\r\n  setTotalPages,\r\n  setPageNumber,\r\n  isLoading,\r\n  isFollowLoading,\r\n  setSearchUsers,\r\n  followUnFollow,\r\n} = findUsersSlice.actions;\r\n\r\nexport const getUsers = (users: number, pageNumber: number, searchUsers: string):\r\n    ThunkAction<Promise<void>, RootState, unknown, Action> => async (dispatch) => {\r\n  dispatch(isLoading(true));\r\n  const data = await usersApi.getUsers(pageNumber, searchUsers);\r\n  await dispatch(setUsers(data.items));\r\n  await dispatch(setTotalPages(Math.ceil(data.totalCount / 12)));\r\n  await dispatch(isLoading(false));\r\n};\r\nexport const getFollowThunk = (userId: number, follow: boolean):\r\n    ThunkAction<Promise<void>, RootState, unknown, Action> => async (dispatch) => {\r\n  try {\r\n    dispatch(isFollowLoading({ loading: true, id: userId }));\r\n    let data;\r\n    if (!follow) data = await followApi.getFollow(userId);\r\n    else data = await followApi.getUnFollow(userId);\r\n    if (data.resultCode === 0) {\r\n      dispatch(followUnFollow({ userId, follow }));\r\n    }\r\n  } finally {\r\n    dispatch(isFollowLoading({ loading: false, id: userId }));\r\n  }\r\n};\r\n\r\nexport const setPage = (page: number, searchUsers: string):\r\n    ThunkAction<Promise<void>, RootState, unknown, Action> => async (dispatch) => {\r\n  dispatch(isLoading(true));\r\n  dispatch(setPageNumber(page));\r\n  const data = await usersApi.getUsers(page, searchUsers);\r\n  await dispatch(setUsers(data.items));\r\n  await dispatch(isLoading(false));\r\n};\r\n\r\nexport default findUsersSlice.reducer;\r\n"],"sourceRoot":""}