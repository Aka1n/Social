{"version":3,"sources":["components/FindUsres/FindUsersUser/FindUsersUser.module.css","components/FindUsres/FindUsers.module.css","common/NotFound/NotFound.module.css","components/FindUsres/FindUsersUser/FindUsersUser.jsx","common/NotFound/NotFound.jsx","components/FindUsres/FindUsers.jsx"],"names":["module","exports","FindUsersUser","props","dispatch","useDispatch","className","classes","user","body","addfriend","to","id","avatar","src","photos","small","img","alt","followed","disabled","userFollowLoading","some","userId","onClick","followUnFollow","button","addDialog","info","row","name","from","status","NotFound","text","notfound","icon","faSearch","FindUsers","findUsersPage","useSelector","state","users","totalPages","pageNumber","isLoading","searchUsers","useState","setText","useMemo","setPageNumber","useEffect","getUsers","length","func","ms","AddUsers","map","follow","getFollowThunk","findusers","title","search","onChange","e","setSearchUsers","target","value","timeoutID","args","clearTimeout","f","apply","setTimeout","placeholder","Loading","pages","arrow","setPage","faCaretLeft","mass","i","push","page","active","filter","children","addPagination","faCaretRight"],"mappings":"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","file":"static/js/3.2b1fc5ab.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"user\":\"FindUsersUser_user__36Rh5\",\"body\":\"FindUsersUser_body__3M8Y-\",\"addfriend\":\"FindUsersUser_addfriend__1AEr7\",\"avatar\":\"FindUsersUser_avatar__2V61o\",\"button\":\"FindUsersUser_button__2rYQ6\",\"row\":\"FindUsersUser_row__IOBEb\",\"info\":\"FindUsersUser_info__kLO24\",\"name\":\"FindUsersUser_name__2Pz7W\",\"from\":\"FindUsersUser_from__2oTOm\",\"status\":\"FindUsersUser_status__3s8_T\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"findusers\":\"FindUsers_findusers__36Myg\",\"title\":\"FindUsers_title__11aEc\",\"row\":\"FindUsers_row__1ou7G\",\"body\":\"FindUsers_body__36IpN\",\"button\":\"FindUsers_button__21rDb\",\"active\":\"FindUsers_active__2Cn65\",\"pages\":\"FindUsers_pages__3o-G8\",\"page\":\"FindUsers_page__1ZTXD\",\"arrow\":\"FindUsers_arrow__3Hoo4\",\"search\":\"FindUsers_search__3UIFr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"notfound\":\"NotFound_notfound__ZpNGW\",\"icon\":\"NotFound_icon__3OxSV\",\"text\":\"NotFound_text__3o7_U\"};","import classes from './FindUsersUser.module.css'\r\nimport img from '../../../img/default-user.png'\r\nimport {NavLink} from \"react-router-dom\";\r\nimport {addDialog} from \"../../../redux/dialogs-reducer\";\r\nimport {useDispatch} from \"react-redux\";\r\n\r\nfunction FindUsersUser(props) {\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    return (\r\n        <div className={classes.user}>\r\n            <div className={classes.body}>\r\n                <div className={classes.addfriend}>\r\n                    <NavLink to={`/profile/${props.id}`}>\r\n                        <img className={classes.avatar}\r\n                             src={(props.photos.small === null) ? img : props.photos.small } alt=\"\"/>\r\n                    </NavLink>\r\n                    <div>\r\n                    {(props.followed)\r\n                        ? <button disabled={props.userFollowLoading.some(userId => userId === props.id)}\r\n                                                onClick={() => {props.followUnFollow(props.id, props.followed)}}\r\n                                                className={classes.button}>Un-follow</button>\r\n                        : <button disabled={props.userFollowLoading.some(userId => userId === props.id)}\r\n                                  onClick={() => {\r\n                                      props.followUnFollow(props.id, props.followed)}\r\n                                  }\r\n                                  className={classes.button}>Follow</button> }\r\n                        <NavLink to={`/dialogs/${props.id}`} onClick={() => dispatch(addDialog(props.id))} >\r\n                            <button className={classes.button}>Message</button>\r\n                        </NavLink>\r\n                    </div>\r\n                </div>\r\n                <div className={classes.info}>\r\n                    <div className={classes.row}>\r\n                        <div className={classes.name}>{props.name}</div>\r\n                        <div className={classes.from}></div>\r\n                    </div>\r\n                    <div className={classes.status}>{props.status}</div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default FindUsersUser","import {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\r\nimport {faSearch} from \"@fortawesome/free-solid-svg-icons\";\r\nimport classes from \"./NotFound.module.css\";\r\nimport * as React from \"react\";\r\n\r\nconst NotFound = ({text}) => {\r\n    return <div className={classes.notfound}>\r\n        <FontAwesomeIcon className={classes.icon} icon={faSearch} />\r\n        <h2 className={classes.text}>{text}</h2>\r\n    </div>\r\n}\r\n\r\nexport default NotFound","import {useDispatch, useSelector} from \"react-redux\";\r\nimport {\r\n    getFollowThunk,\r\n    setPage, getUsers, setSearchUsers, setPageNumber,\r\n} from \"../../redux/findUsers-reducer\";\r\nimport * as React from \"react\";\r\nimport FindUsersUser from \"./FindUsersUser/FindUsersUser\";\r\nimport classes from \"./FindUsers.module.css\";\r\nimport {useEffect, useMemo, useState} from \"react\";\r\nimport Loading from \"../../common/Loading/Loading\";\r\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\r\nimport {faCaretLeft, faCaretRight} from \"@fortawesome/free-solid-svg-icons\";\r\nimport NotFound from \"../../common/NotFound/NotFound\";\r\n\r\n\r\nconst FindUsers = () => {\r\n\r\n    const findUsersPage = useSelector(state => state.findUsersPage)\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    const {users ,totalPages, pageNumber, isLoading, userFollowLoading, searchUsers} = findUsersPage\r\n\r\n    const [text, setText] = useState(searchUsers)\r\n\r\n\r\n    useMemo(() => {\r\n        dispatch(setPageNumber(1))\r\n    }, [searchUsers])\r\n\r\n\r\n    useEffect(() => {\r\n        dispatch(getUsers(users.length, pageNumber, searchUsers))\r\n    }, [searchUsers])\r\n\r\n\r\n    const AddUsers = ({users}) => useMemo(() => {\r\n\r\n        if (users.length === 0) return <NotFound text=\"Users not found\"/>\r\n\r\n         return users.map(user => <FindUsersUser id={user.id}\r\n                                         followed={user.followed}\r\n                                         name={user.name}\r\n                                         status={user.status}\r\n                                         photos={user.photos}\r\n                                         userFollowLoading={userFollowLoading}\r\n                                         followUnFollow={(id, follow) => dispatch(getFollowThunk(id, follow))}/>)\r\n    },[searchUsers])\r\n\r\n    const addPagination = (totalPages) => {\r\n\r\n        let mass = []\r\n\r\n        for (let i =\r\n            pageNumber === totalPages - 2 ? pageNumber - 2 :\r\n                pageNumber === totalPages - 1 ? pageNumber - 3 :\r\n                    pageNumber === totalPages ? pageNumber - 4 :\r\n                        pageNumber >= 3 ? pageNumber - 2 :\r\n                            pageNumber === 2 ? pageNumber - 1 :\r\n                                pageNumber === 1? pageNumber : null; totalPages >= i; i++) {\r\n            mass.push( <div onClick={() => dispatch(setPage(i, searchUsers))}\r\n                            className={pageNumber === i ? `${classes.page} ${classes.active}` : classes.page}>{i}</div>)\r\n            if (mass.length >= 5) {\r\n                return mass.filter(page => page.props.children > 0)\r\n            }\r\n        }\r\n        return mass\r\n    }\r\n\r\n\r\n    const debounceOnChange = (func, ms) => useMemo(() => {\r\n        let timeoutID\r\n        return function (...args) {\r\n            setText(args[0].target.value)\r\n            clearTimeout(timeoutID)\r\n            const f = () => func.apply(this, args)\r\n            timeoutID = setTimeout(f, ms)\r\n        }\r\n    },[])\r\n\r\n\r\n    return (\r\n        <div className={classes.findusers}>\r\n            <div className={classes.title}>Users</div>\r\n            <input className={classes.search}\r\n                   onChange={debounceOnChange((e) => dispatch(setSearchUsers(e.target.value)),500)}\r\n                   value={text}\r\n                placeholder=\"&#xf002;   Search...\"/>\r\n            <div className={classes.row}>\r\n                {!isLoading ? <div className={classes.body}>{<AddUsers users={users}/>}</div> : <Loading/> }\r\n                <div className={classes.pages}>\r\n                    {pageNumber > 3 && totalPages >= 5 ? <FontAwesomeIcon className={classes.arrow}\r\n                                                               onClick={() => dispatch(setPage(1, searchUsers))}\r\n                                                               icon={faCaretLeft}/> : null}\r\n                    {addPagination(totalPages)}\r\n                    {pageNumber < totalPages - 2 && totalPages >= 5\r\n                        ? <FontAwesomeIcon className={classes.arrow}\r\n                                           onClick={() => dispatch(setPage(totalPages, searchUsers))}\r\n                                           icon={faCaretRight}/> : null}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default FindUsers\r\n\r\n"],"sourceRoot":""}